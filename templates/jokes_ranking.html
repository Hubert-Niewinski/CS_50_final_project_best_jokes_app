{% extends "base.html" %} {% block content %}
<div class="container">
	<div class="row justify-content-center">
		<div class="col-md-8">
			<h2 class="text-center mb-4">Jokes Ranking</h2>
			<p class="text-center">A joke needs at least 3 ratings to be placed on the list.</p>
			{% for joke, average_rating, rate_count in jokes %}
			<div class="card mb-3">
				<div class="card-body">
					<h5 class="card-title">{{ loop.index }}. {{ joke.title }}</h5>
					<p class="card-text">{{ joke.content }}</p>
					<p class="card-text"><small class="text-muted">Average rating: {{ average_rating|round(2) }}</small></p>
					<p class="card-text"><small class="text-muted">Number of rates: {{ rate_count }}</small></p>
				</div>
			</div>
			{% else %}
			<p class="text-center">No jokes found.</p>
			{% endfor %}
		</div>
	</div>
</div>
{% endblock %}
